<!DOCTYPE HTML>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>添加自定义点覆盖物</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font: 12px/16px Verdana, Helvetica, Arial, sans-serif;
        }
        /* 定义自定义点样式 */

        div.marker {
            height: 40px;
            width: 120px;
            background: url(http://pages.haozu.ajkcdn.com/20110909/img/map/marker.png) left top no-repeat;
            white-space: nowrap;
        }

        div.marker span {
            display: inline-block;
            height: 28px;
            line-height: 28px;
            margin: 0 10px;
            color: #FFF;
            background: url(http://pages.haozu.ajkcdn.com/20110909/img/map/marker_bg_170x28.gif) right top no-repeat;
            padding-right: 10px;
        }
        /* 修改背景URL */

        div.change {
            display: inline-block;
            background-image: url(http://pages.haozu.ajkcdn.com/20110909/img/map/marker-h.png);
        }

        div.change span {
            background-image: url(http://pages.haozu.ajkcdn.com/20110909/img/map/marker-h-l.gif);
        }
    </style>
    <link rel="stylesheet" href="/Public/Css/demo.Default.css" type="text/css" />
    <script type="text/javascript" src="http://webapi.amap.com/maps?v=1.4.0&key=2504908e2f1d6648b9c8ad1f9c0dc33"></script>
</head>

<body>
    <div id="map" style="width:659px;height:400px;border:#F6F6F6 solid 1px;"></div>
    <a href="javascript:addCustomMarker()">添加自定义点覆盖物</a>
</body>

<script>
    var mapObj, tool, view, scale;

    mapObj = new AMap.Map("map", {
        center: new AMap.LngLat(116.392936, 39.919479)
    });

    function addCustomMarker() {
        //自定义覆盖物dom 元素
        var m = document.createElement("div");
        m.className = "marker";
        var n = document.createElement("span");
        n.innerHTML = "Amap";
        m.appendChild(n);

        var marker1 = new AMap.Marker({
            map: mapObj,
            position: new AMap.LngLat(116.373881, 39.907409), //基点位置
            offset: new AMap.Pixel(0, -40), //相对于基点的偏移位置
            // draggable:true,  //是否可拖动
            content: m //自定义覆盖物内容
        });


        //mouseover,换个皮肤
        AMap.event.addListener(marker1, 'mouseover', function() {
            n.innerHTML = "高德地图"; //修改内容
            m.className = "marker change"; //增加样式
        });


        //mouseout,换回皮肤
        AMap.event.addListener(marker1, 'mouseout', function() {
            n.innerHTML = "Amap"; //修改内容
            m.className = "marker";
        });

    }
</script>

</html>

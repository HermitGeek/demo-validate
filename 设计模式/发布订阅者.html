<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>
<script>
    class Dep {
        constructor() {
            this.subs = [];
        }

        // 添加订阅者
        addSub(sub) {
            this.subs.push(sub);
        }

        // 通知
        notify() {
            this.subs.forEach((sub) => {
                sub.update();
            })
        }
    }

    const sub1 = { update() {
        console.log('sub1')
    }}

    const sub2 = { update() {
        console.log('sub2')
    }}

    const sub3 = { update() {
        console.log('sub3')
    }}

    const dep = new Dep();

    dep.addSub(sub1);
    dep.addSub(sub2);
    dep.addSub(sub3);

    dep.notify()



</script>
</html>